\begin{figure}[h]
\centering
\begin{tikzpicture}
    \begin{semilogxaxis}[
        xlabel=Buffer size (KiB),
        ylabel=Throughput (Gbps),
        legend style={nodes=right},
        legend pos= north west,
        scaled ticks=false, 
        compat=1.3
        ]
        
    \addplot table [ x index=0,y index=1] {plots/bandwidth.txt};
    \addlegendentry{Xen pipe}
    
    \addplot table[ x index=0,y index=3] {plots/bandwidth.txt};
    \addlegendentry{Stressed Xen pipe}
    
    \addplot table[ x index=0,y index=2] {plots/bandwidth.txt};
    \addlegendentry{TCP}
    
    
    \end{semilogxaxis}
\end{tikzpicture}
\caption{Comparison between Xen pipe and TCP throughputs for different buffer sizes}
\label{shm_size}
\end{figure}
