\begin{figure}[h]
\centering
\begin{tikzpicture}
    \begin{semilogxaxis}[
        xlabel=Message size (Bytes),
        ylabel=Throughput (Gbps),
        legend style={nodes=right},
        legend pos= north west,
        scaled ticks=false, 
        compat=1.3
        ]
        
        
        \addplot table[x index=0,y index=4] {plots/messageSize.txt};
    \addlegendentry{XenPipe: 60}
        
      \addplot table[ x index=0,y index=3] {plots/messageSize.txt};
    \addlegendentry{XenPipe: 20}  
        
        
     \addplot table[  x index=0,y index=2] {plots/messageSize.txt};
    \addlegendentry{XenPipe: 5}   
        
    \addplot table[  x index=0,y index=1] {plots/messageSize.txt};
    \addlegendentry{XenPipe: 1}
    
    
    \addplot [smooth,dashed,mark=*,orange] table[  x index=0,y index=5] {plots/messageSize.txt};
    \addlegendentry{XWay}
    
    \addplot [smooth,dashed,mark=square*, violet]  table[  x index=0,y index=7,orange] {plots/messageSize.txt};
    \addlegendentry{XenSocket}

    \addplot [smooth,dashed,mark=x, magenta] table[  x index=0,y index=6] {plots/messageSize.txt};
    \addlegendentry{XenLoop}
   
    \end{semilogxaxis}
\end{tikzpicture}
\caption{Throughput of Xen Pipe with different shared memory sizes (indicated in pages) and other state-of-the-art solutions with respect to the message size}
\label{msg_size}
\end{figure}
